\group{System Low-Level}{Sys-LL}

\req{1}{IMU}
{
			The FC shall be equipped with an IMU.
		}
{\parent{Sys-HL-REQ-1} \parent{Sys-HL-REQ-4} \parent{Sys-HL-DD-1} }
{FC}

\req{2}{IMU Measurements}
{
			The FCS shall be able to read measurement data from the IMU. TODO which data
		}
{\parent{Sys-HL-REQ-1} \parent{Sys-HL-REQ-4} \parent{Sys-HL-DD-1} }
{FCS}

\req{3}{IMU Data Transmission}
{
			The FCS shall transmit every $\SI{100}{\milli\second}$ IMU data to the FCPS.
		}
{\parent{Sys-HL-REQ-1} \parent{Sys-HL-REQ-4} \parent{Sys-HL-DD-1} }
{FCS}

\req{4}{IMU Data Reception}
{
			The FCPS shall be able to receive IMU data every $\SI{100}{\milli\second}$.
		}
{\parent{Sys-HL-REQ-1} \parent{Sys-HL-REQ-4} \parent{Sys-HL-DD-1} }
{FCPS}

\req{5}{State Estimation}
{
			The FCPS shall filter the IMU and pitot data to guarantee 
			\begin{itemize} 
				\item an acceleration standard deviation less than \SI{0.6}{\meter \per \second^2} 
				\item the orientation with TBD performance 
				\item the velocity with TBD performance 
				\item the position with TBD performance 
				\item the altitude over the ground with TBD performance 
			\end{itemize}
		}
{\parent{Sys-HL-REQ-1} \parent{Sys-HL-REQ-2} \parent{Sys-HL-REQ-4} \parent{Sys-HL-REQ-6} \parent{Sys-HL-REQ-13} \parent{Sys-HL-DD-1} }
{FCPS}

\req{6}{Launch Detection}
{
			The FCPS shall use the estimated state to signal a detected launch if the acceleration is larger 
			than \SI{6}{\meter \per \second}.
		}
{\parent{Sys-HL-REQ-1} \parent{Sys-HL-DD-1} }
{FCPS}

\req{7}{Pitot-Sensor}
{
			The Nav shall be equipped with a Pitot Tube for Airspeed measurements.
		}
{\parent{Sys-HL-Req-2} \parent{Sys-HL-DD-1} }
{NAV}

\req{8}{Velocity Measurements}
{
			The velocity shall be measured by the Nav Software.
		}
{\parent{Sys-HL-REQ-2} \parent{Sys-HL-DD-1} }
{NAVS}

\req{9}{Velocity Transmission}
{
			The measured velocity shall be transmitted to the FCPS every $\SI{100}{\milli \second}$.
		}
{\parent{Sys-HL-REQ-2} \parent{Sys-HL-DD-1} }
{NAVS}

\req{10}{Velocity Reception}
{
			The FCPS shall be able to receive the velocity data every $\SI{100}{\milli\second}$
		}
{\parent{Sys-HL-REQ-2} \parent{Sys-HL-DD-1} }
{FCPS}

\req{11}{Velocity Controller}
{
			The FCPS shall be able to find a motor command such that the plane achieves the error between the estimated 
			and the desired velocity goes to zero. with TODO performance.
		}
{\parent{Sys-HL-REQ-3} \parent{Sys-HL-DD-1} }
{FCPS}

\req{12}{Motor Setpoint Transmission}
{
			The FCPS shall transmit the calculated motor setpoint every $\SI{100}{\milli\second}$
		}
{\parent{Sys-HL-REQ-3} \parent{Sys-HL-DD-1} }
{FCPS}

\req{13}{Motor Setpoint Receive}
{
			The FCS shall be able to receive a motor setpoint every $\SI{100}{\milli\second}$
		}
{\parent{Sys-HL-REQ-3} \parent{Sys-HL-DD-1} }
{FCS}

\req{14}{Motor Setpoint Command}
{
			The FCS shall transmit every motor setpoint as a command to the EP at most $\SI{20}{\milli\second}$ after reception.
		}
{\parent{Sys-HL-REQ-3} \parent{Sys-HL-DD-1} }
{FCS}

\req{15}{Motor Command Execution}
{
			The EP shall react on every motor command in at most $\SI{20}{\milli\second}$.
		}
{\parent{Sys-HL-REQ-3} \parent{Sys-HL-DD-1} }
{EP}

\req{16}{Motor Characterization}
{
			The EP shall react to motor commands in a deterministic manner, only influenced by the command, 
			the load of the motor and the battery voltage. 
			The influence of all other factors should be less than $10\%$ under normal operating conditions. 
			TODO what are those?
		}
{\parent{Sys-HL-REQ-3} \parent{Sys-HL-DD-1} }
{EP}

\req{17}{Attitude Controller}
{
			The FCS shall compute a control surface position signal which guarantees that the measured orientation 
			follows the orientation setpoint.
		}
{\parent{Sys-HL-REQ-5} \parent{Sys-HL-REQ-7} \parent{Sys-HL-DD-1} }
{FCS}

\req{18}{Servo Command Transmission}
{
			The FCS shall transmit the computed servo setpoint every $\SI{20}{\milli\second}$ to the CS.
		}
{\parent{Sys-HL-REQ-5} \parent{Sys-HL-REQ-7} \parent{Sys-HL-DD-1} }
{CS}

\req{19}{Servo Performance}
{
			The CS shall set the position of the control surfaces in accordance with the received command.
		}
{\parent{Sys-HL-REQ-5} \parent{Sys-HL-REQ-7} \parent{Sys-HL-DD-1} }
{CS}

\req{20}{GPS Sensor}
{
			The FCP shall be equipped with a GPS sensor.
		}
{\parent{Sys-HL-REQ-6} \parent{Sys-HL-DD-1} }
{FCP}

\req{21}{GPS Measurement}
{
			The FCPS shall query the GPS sensor for new data every $\SI{100}{\milli\second}$.
		}
{\parent{Sys-HL-REQ-6} \parent{Sys-HL-DD-1} }
{FCPS}

\req{24}{Position Controller}
{
			The FCPS shall find a dynamically feasible trajectory of attitudes and velocities, 
			such that the plane reaches a predefined position with an accuracy of $\pm\SI{3}{\meter}$.
		}
{\parent{Sys-HL-REQ-7} \parent{Sys-HL-DD-1} }
{FCPS}

\req{31}{Barometer}
{
			The NAV shall be equipped with a barometric altimeter.
		}
{\parent{Sys-HL-REQ-13} \parent{Sys-HL-DD-1} }
{NAV}

\req{32}{Barometer measurement}
{
			The NAVS shall read the altimeter every $\SI{100}{\milli\second}$.
		}
{\parent{Sys-HL-REQ-13} \parent{Sys-HL-DD-1} }
{NAVS}

\req{35}{Lidar}
{
			The NAV shall be equipped with LIDAR for altitude measurements.
		}
{\parent{Sys-HL-REQ-13} \parent{Sys-HL-DD-1} }
{NAV}

\req{36}{Lidar measurements}
{
			The NAVS shall read the LIDAR every $\SI{100}{\milli\second}$.
		}
{\parent{Sys-HL-REQ-13} \parent{Sys-HL-DD-1} }
{NAVS}

\req{33}{Altitude data transmission}
{
			The NAVS shall transmit the barometric and LIDAR data every $\SI{100}{\milli\second}$.
		}
{\parent{Sys-HL-REQ-13} \parent{Sys-HL-DD-1} }
{NAVS}

\req{34}{Altitude data reception}
{
			The FCPS shall receive the altitude data every $\SI{100}{\milli\second}$.
		}
{\parent{Sys-HL-REQ-13} \parent{Sys-HL-DD-1} }
{FCPS}

\req{25}{Orientation Setpoint Transmission}
{
			The FCPS shall transmit every $\SI{100}{\milli\second}$ the orientation and calculated by the 
			position controller for the current timestep.
		}
{\parent{Sys-HL-REQ-7} \parent{Sys-HL-DD-1} }
{FCPS}

\req{26}{Orientation Setpoint Reception}
{
			The FCS shall receive the orientation setpoint from the FCPS every $\SI{100}{\milli\second}$.
		}
{\parent{Sys-HL-REQ-7} \parent{Sys-HL-DD-1} }
{FCS}

\req{27}{Reading Mission Configuration}
{
			The FCPS shall read a list of waypoints and a target at startup. Both the waypoints and the target 
			consists of the following information: 
			\begin{itemize} 
				\item Latitude 
				\item Longitude 
				\item Altitude above sea level 
				\item Optional: Heading at which to pass the point 
			\end{itemize}
		}
{\parent{Sys-HL-Req-8} \parent{Sys-HL-DD-1} }
{FCPS}

\req{28}{Waypoint Handling}
{
			The FCPS shall send the next waypoint as input to the position control and detect when a waypoint was hit 
			and then forwards the next waypoint.
		}
{\parent{Sys-HL-Req-8} \parent{Sys-HL-DD-1} }
{FCPS}

\req{29}{Energy Storage}
{
			The EP shall provide sufficient energy for $\SI{2}{\hour}$ at cruise speed.
		}
{\parent{Sys-HL-REQ-9} \parent{Sys-HL-DD-1} }
{EP}

\req{30}{Debug Data Collection}
{
			The FCPS shall collect the following data: 
			\begin{itemize} 
				\item All data from the FCS 
				\item All data from the PDBS 
				\item All data from the NAVS 
				\item The estimated state 
				\item The current flight state 
			\end{itemize}
		}
{\parent{Sys-HL-REQ-11} \parent{Sys-HL-DD-1} }
{FCPS}

\req{37}{Cellular Module}
{
			The FCP shall be equipped with a transceiver for cellular communication.
		}
{\parent{Sys-HL-REQ-11} \parent{Sys-HL-DD-1} }
{FCP}

\req{38}{Debug Data Transmission}
{
			The FCPS shall transmit all debug data  every $\SI{100}{\milli \second}$ via the cellular connection.
		}
{\parent{Sys-HL-REQ-11} \parent{Sys-HL-DD-1} }
{FCPS}

\req{39}{Debug Display Data Reception}
{
			The DDS shall be able to receive all debug data every 
			$\SI{100}{\milli \second}$ via the cellular connection.
		}
{\parent{Sys-HL-REQ-12} \parent{Sys-HL-DD-1} }
{DDS}

\req{40}{Debug Display Visualization}
{
			The DDS shall be able to show all debug data.
		}
{\parent{Sys-HL-REQ-12} \parent{Sys-HL-DD-1} }
{DDS}


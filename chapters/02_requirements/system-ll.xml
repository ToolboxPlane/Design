<?xml version="1.0"?>
<module title="System Low-Level" id="Sys-LL">
	<requirement id="1">
		<title>IMU</title>
		<description>
			The FC shall be equipped with an IMU.
		</description>
		<parents>
			<parent>Sys-HL-REQ-1</parent>
			<parent>Sys-HL-REQ-4</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FC</partition>
	</requirement>
	<requirement id="2">
		<title>IMU Measurements</title>
		<description>
			The FCS shall read measurement the following data
			around all three axis
			\begin{itemize}
				\item Orientation angle
				\item Rotation-rate
				\item Acceleration
			\end{itemize}
			every $\SI{20}{\milli\second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-1</parent>
			<parent>Sys-HL-REQ-4</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-4</parent>
		</parents>
		<partition>FCS</partition>
	</requirement>
	<requirement id="3">
		<title>IMU Data Transmission</title>
		<description>
			The FCS shall transmit every $\SI{100}{\milli\second}$ IMU 
			data to the FCPS.
		</description>
		<parents>
			<parent>Sys-HL-REQ-1</parent>
			<parent>Sys-HL-REQ-4</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-3</parent>
		</parents>
		<partition>FCS</partition>
	</requirement>
	<requirement id="4">
		<title>IMU Data Reception</title>
		<description>
			The FCPS shall be able to receive IMU data every 
			$\SI{100}{\milli\second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-1</parent>
			<parent>Sys-HL-REQ-4</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-3</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="5">
		<title>State Estimation</title>
		<description>
			The FCPS shall filter the IMU and pitot data to guarantee 
			\begin{itemize} 
				\item an acceleration standard deviation less than \SI{0.6}{\meter \per \second^2} 
				\item the orientation with TBD performance 
				\item the velocity with TBD performance 
				\item the position with TBD performance 
				\item the altitude over the ground with TBD performance 
			\end{itemize}
		</description>
		<parents>
			<parent>Sys-HL-REQ-1</parent>
			<parent>Sys-HL-REQ-2</parent>
			<parent>Sys-HL-REQ-4</parent>
			<parent>Sys-HL-REQ-6</parent>
			<parent>Sys-HL-REQ-13</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-3</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="6">
		<title>Launch Detection</title>
		<description>
			The FCPS shall use the estimated state to signal a 
			launch if the acceleration is larger than 
			$\SI{6}{\meter \per \second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-1</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="7">
		<title>Pitot-Sensor</title>
		<description>
			The NAV shall be equipped with a Pitot tube for airspeed 
			measurements.
		</description>
		<parents>
			<parent>Sys-HL-Req-2</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>NAV</partition>
	</requirement>
	<requirement id="8">
		<title>Velocity Measurements</title>
		<description>
			The velocity shall be measured by the NAVS every
			$\SI{100}{\milli \second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-2</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-3</parent>
		</parents>
		<partition>NAVS</partition>
	</requirement>
	<requirement id="11">
		<title>Velocity Controller</title>
		<description>
			The FCPS shall be able to find a motor command such that the 
			plane achieves the error between the estimated 
			and the desired velocity goes to zero. with TODO performance.
		</description>
		<parents>
			<parent>Sys-HL-REQ-3</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="12">
		<title>Motor Setpoint Transmission</title>
		<description>
			The FCPS shall transmit the calculated motor setpoint every 
			$\SI{100}{\milli\second}$
		</description>
		<parents>
			<parent>Sys-HL-REQ-3</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-3</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="13">
		<title>Motor Setpoint Receive</title>
		<description>
			The FCS shall be able to receive a motor setpoint every 
			$\SI{100}{\milli\second}$
		</description>
		<parents>
			<parent>Sys-HL-REQ-3</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-3</parent>
		</parents>
		<partition>FCS</partition>
	</requirement>
	<requirement id="14">
		<title>Motor Setpoint Command</title>
		<description>
			The FCS shall transmit every motor setpoint as a command to 
			the EP at most $\SI{20}{\milli\second}$ after reception.
		</description>
		<parents>
			<parent>Sys-HL-REQ-3</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-4</parent>
		</parents>
		<partition>FCS</partition>
	</requirement>
	<requirement id="15">
		<title>Motor Command Execution</title>
		<description>
			The EP shall react on every motor command in at most 
			$\SI{20}{\milli\second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-3</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-4</parent>
		</parents>
		<partition>EP</partition>
	</requirement>
	<requirement id="16">
		<title>Motor Characterization</title>
		<description>
			The EP shall react to motor commands in a deterministic 
			manner, only influenced by the command, 
			the load of the motor and the battery voltage. 
			The influence of all other factors should be less than 
			$10\%$ under normal operating conditions. 
			TODO what are those?
		</description>
		<parents>
			<parent>Sys-HL-REQ-3</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>EP</partition>
	</requirement>
	<requirement id="17">
		<title>Attitude Controller</title>
		<description>
			The FCS shall compute a servo command, 
			which guarantees that the measured orientation 
			follows the orientation setpoint with TODO performance,
			every $\SI{20}{\milli \second}$.
			
		</description>
		<parents>
			<parent>Sys-HL-REQ-5</parent>
			<parent>Sys-HL-REQ-7</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-4</parent>
		</parents>
		<partition>FCS</partition>
	</requirement>
	<requirement id="18">
		<title>Servo Command Transmission</title>
		<description>
			The FCS shall transmit the computed servo command every 
			$\SI{20}{\milli\second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-5</parent>
			<parent>Sys-HL-REQ-7</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-4</parent>
		</parents>
		<partition>FCS</partition>
	</requirement>
	<requirement id="19">
		<title>Servo Performance</title>
		<description>
			The CS shall set the position of the control surfaces in 
			accordance with the received command.
		</description>
		<parents>
			<parent>Sys-HL-REQ-5</parent>
			<parent>Sys-HL-REQ-7</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>CS</partition>
	</requirement>
	<requirement id="20">
		<title>GPS Sensor</title>
		<description>
			The FCP shall be equipped with a GPS sensor.
		</description>
		<parents>
			<parent>Sys-HL-REQ-6</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FCP</partition>
	</requirement>
	<requirement id="21">
		<title>GPS Measurement</title>
		<description>
			The FCPS shall query the GPS sensor for new data every 
			$\SI{100}{\milli\second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-6</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-3</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="24">
		<title>Position Controller</title>
		<description>
			The FCPS shall find a dynamically feasible trajectory of 
			attitudes and velocities, 
			such that the plane reaches a predefined position with an 
			accuracy of $\pm\SI{3}{\meter}$. TODO time requirement
		</description>
		<parents>
			<parent>Sys-HL-REQ-7</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="31">
		<title>Barometer</title>
		<description>
			The NAV shall be equipped with a barometric altimeter.
		</description>
		<parents>
			<parent>Sys-HL-REQ-13</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>NAV</partition>
	</requirement>
	<requirement id="32">
		<title>Barometer measurement</title>
		<description>
			The NAVS shall read the altimeter every 
			$\SI{100}{\milli\second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-13</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-3</parent>
		</parents>
		<partition>NAVS</partition>
	</requirement>
	<requirement id="35">
		<title>LIDAR</title>
		<description>
			The NAV shall be equipped with LIDAR for altitude 
			measurements.
		</description>
		<parents>
			<parent>Sys-HL-REQ-13</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>NAV</partition>
	</requirement>
	<requirement id="36">
		<title>Lidar measurements</title>
		<description>
			The NAVS shall read the LIDAR every 
			$\SI{100}{\milli\second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-13</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-3</parent>
		</parents>
		<partition>NAVS</partition>
	</requirement>
	<requirement id="33">
		<title>Nav data transmission</title>
		<description>
			The NAVS shall transmit the following data
			\begin{itemize}	
				\item Velocity
				\item Barometric altitude
				\item LIDAR
			\end{itemize}
			every $\SI{100}{\milli\second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-2</parent>
			<parent>Sys-HL-REQ-13</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-3</parent>
		</parents>
		<partition>NAVS</partition>
	</requirement>
	<requirement id="34">
		<title>Nav data reception</title>
		<description>
			The FCPS shall receive the NAVS data every 
			$\SI{100}{\milli\second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-2</parent>
			<parent>Sys-HL-REQ-13</parent>
			<parent>Sys-HL-DD-1</parent>
			<parent>Sys-HL-DD-3</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="25">
		<title>Orientation Setpoint Transmission</title>
		<description>
			The FCPS shall transmit every $\SI{100}{\milli\second}$ the orientation and calculated by the 
			position controller for the current timestep.
		</description>
		<parents>
			<parent>Sys-HL-REQ-7</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="26">
		<title>Orientation Setpoint Reception</title>
		<description>
			The FCS shall receive the orientation setpoint from the FCPS every $\SI{100}{\milli\second}$.
		</description>
		<parents>
			<parent>Sys-HL-REQ-7</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FCS</partition>
	</requirement>
	<requirement id="27">
		<title>Reading Mission Configuration</title>
		<description>
			The FCPS shall read a list of waypoints and a target at startup. Both the waypoints and the target 
			consists of the following information: 
			\begin{itemize} 
				\item Latitude 
				\item Longitude 
				\item Altitude above sea level 
				\item Optional: Heading at which to pass the point 
			\end{itemize}
		</description>
		<parents>
			<parent>Sys-HL-Req-8</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="28">
		<title>Waypoint Handling</title>
		<description>
			The FCPS shall send the next waypoint as input to the position control and detect when a waypoint was hit 
			and then forwards the next waypoint.
		</description>
		<parents>
			<parent>Sys-HL-Req-8</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="29">
		<title>Energy Storage</title>
		<description>
			The EP shall provide sufficient energy for $\SI{2}{\hour}$ at cruise speed.
		</description>
		<parents>
			<parent>Sys-HL-REQ-9</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>EP</partition>
	</requirement>
	<requirement id="30">
		<title>Debug Data Collection</title>
		<description>
			The FCPS shall collect the following data: 
			\begin{itemize} 
				\item All data from the FCS 
				\item All data from the PDBS 
				\item All data from the NAVS 
				\item The estimated state 
				\item The current flight state 
			\end{itemize}
		</description>
		<parents>
			<parent>Sys-HL-REQ-11</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="37">
		<title>Cellular Module</title>
		<description>
			The FCP shall be equipped with a transceiver for cellular communication.
		</description>
		<parents>
			<parent>Sys-HL-REQ-11</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FCP</partition>
	</requirement>
	<requirement id="38">
		<title>Debug Data Transmission</title>
		<description>
			The FCPS shall transmit the collected debug data every 
			$\SI{100}{\milli \second}$ via the cellular connection.
		</description>
		<parents>
			<parent>Sys-HL-REQ-11</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>FCPS</partition>
	</requirement>
	<requirement id="39">
		<title>Debug Display Data Reception</title>
		<description>
			The DDS shall be able to receive the debug data every 
			$\SI{100}{\milli \second}$ via the cellular connection.
		</description>
		<parents>
			<parent>Sys-HL-REQ-12</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>DDS</partition>
	</requirement>
	<requirement id="40">
		<title>Debug Display Visualization</title>
		<description>
			The DDS shall be able to visualize all debug data.
		</description>
		<parents>
			<parent>Sys-HL-REQ-12</parent>
			<parent>Sys-HL-DD-1</parent>
		</parents>
		<partition>DDS</partition>
	</requirement>
	<requirement id="41">
		<title>TX commands</title>
		<description>
			The TX shall transmit the following information:
			\begin{itemize}
				\item Motor arm switch position
				\item Manual override switch position
				\item Motor setpoint override
				\item Servo setpoint override
			\end{itemize}
		</description>
		<parents>
			<parent>Sys-HL-DD-2</parent>
		</parents>
		<partition>TX</partition>
	</requirement>
	<requirement id="42">
		<title>RX reception</title>
		<description>
			The RX shall receive the information sent by the TX
			and forward it to the FCP.
		</description>
		<parents>
			<parent>Sys-HL-DD-2</parent>
		</parents>
		<partition>RX</partition>
	</requirement>
	<requirement id="43">
		<title>Override port</title>
		<description>
			The FC shall be able to receive information
			from the RX.
		</description>
		<parents>
			<parent>Sys-HL-DD-2</parent>
		</parents>
		<partition>FC</partition>
	</requirement>
	<requirement id="44">
		<title>Override reception</title>
		<description>
			The FCS shall be able to receive
			the override information from the RX.
		</description>
		<parents>
			<parent>Sys-HL-DD-2</parent>
		</parents>
		<partition>FCS</partition>
	</requirement>
	<requirement id="45">
		<title>Override Command</title>
		<description>
			The FCS shall use the override information
			as command if the override switch is activated.
		</description>
		<parents>
			<parent>Sys-HL-DD-2</parent>
		</parents>
		<partition>FCS</partition>
	</requirement>
	<requirement id="46">
		<title>Arm Command</title>
		<description>
			The FCS shall always send the motor command 0
			if the arm switch is not activated.
		</description>
		<parents>
			<parent>Sys-HL-DD-2</parent>
		</parents>
		<partition>FCS</partition>
	</requirement>
</module>
